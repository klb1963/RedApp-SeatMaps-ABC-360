"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.parsePnrData=void 0;var parsePnrData=function(e){for(var t,n,a,l,i,r,s,o,g,m,v=[],u=[],d=e.getElementsByTagName("stl19:Passenger"),p=0;p<d.length;p++){var N=d[p],T=N.getAttribute("id")||"",x=(null===(t=N.getElementsByTagName("stl19:LastName")[0])||void 0===t?void 0:t.textContent)||"",y=(null===(n=N.getElementsByTagName("stl19:FirstName")[0])||void 0===n?void 0:n.textContent)||"";v.push({label:x+"/"+y,value:T,givenName:y,surname:x})}var B=e.getElementsByTagName("stl19:Air");for(p=0;p<B.length;p++){var C=B[p],E=(T=C.getAttribute("id")||"",(null===(a=C.getElementsByTagName("stl19:DepartureAirport")[0])||void 0===a?void 0:a.textContent)||""),D=(null===(l=C.getElementsByTagName("stl19:ArrivalAirport")[0])||void 0===l?void 0:l.textContent)||"",b=(null===(i=C.getElementsByTagName("stl19:DepartureDateTime")[0])||void 0===i?void 0:i.textContent)||"",A=C.getElementsByTagName("stl19:MarketingAirline")[0],h=C.getElementsByTagName("stl19:OperatingAirline")[0],k=(null===(r=null==A?void 0:A.textContent)||void 0===r?void 0:r.trim())||(null===(s=null==h?void 0:h.textContent)||void 0===s?void 0:s.trim())||"UNKNOWN",P=(null===(o=C.getElementsByTagName("stl19:MarketingFlightNumber")[0])||void 0===o?void 0:o.textContent)||"",c=(null===(g=C.getElementsByTagName("stl19:ResBookDesigCode")[0])||void 0===g?void 0:g.textContent)||"",f=(null===(m=C.getElementsByTagName("stl19:Equipment")[0])||void 0===m?void 0:m.textContent)||"",F="";b.includes("T")&&(F=b.split("T")[0]),u.push({label:E+" â†’ "+D+" ("+k+P+")",value:T,origin:E,destination:D,departureDate:F,marketingCarrier:k,marketingFlightNumber:P,bookingClass:c,equipment:f})}return{passengers:v,segments:u}};exports.parsePnrData=parsePnrData;
